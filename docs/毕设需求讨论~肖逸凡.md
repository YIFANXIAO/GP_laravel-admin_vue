# 毕设系统需求讨论：

系统暂时分为两部分：

# 1、课程管理

> **课程的概念(罗列属性)：**
>
> 学分
>
> 总分数、平时分总分、期末成绩总分等
>
> 上课地点
>
> 授课教师
>
> 课程类型：比如普通课程、实验课、实践类课程、公开课、复合型课程（比如普通课程+实验课）
>
> 分数计算公式：包括平时分计算公式、总分计算公式、实验分数计算公式等等

## **计算项的可配置化实现方式构想：**

> 基本想法：数据驱动视图；
>
> 前端：根据后端传回来的数据展示项数组动态的生成不同的列并填充相应数据
>
> 后端：设定分数计算公式，每次进行计算时，通过查询数据库获取具体的数据，根据计算公式生成两个栈，运算出最终结果。
>
> **设定分数计算公式：**
>
> **读取：**
>
> 前端获取计算公式（手打输入，字符串），将公式作为常量维护到MySql中，每次只进行读取、更新操作
>
> **前端显示：**
>
> 对公式进行识别，识别普通+、-、*、/、（、）等符号，数字用带特殊标识的字符串进行替代（比如$考勤·1$、$实验·2$等），识别字符串获取数字符（队列）和计算符（队列），数字符进行字符串处理之后返给前端（这里的处理可以结合数据库，在数据库中单列一张表，存储相应的拼接文本，读数据库数据，结合处理字符串，比如设置这个点名的时间进行拼接等等，可以下一步进行细化），作为生成页面展示项的依据；
>
> **后端展示数据处理：**
>
> 对公式进行识别，识别出数字符都有哪些（维护成常量存入MySql中，作为可识别的字符串，可用于字符和属性之间的转换，即数字符——>数字或英文符，拿到"翻译后的数据"后，switch取对应的属性，再套一个switch去该属性对应的第几个（同一属性在数据库中预留出来有限个））以及各个数字符的数量，通过这个数量控制，从数据库中读取相应数量的数据，存入list中，将list传给前端，前端根据list渲染页面，展示相应数据
>
> **后端计算处理：**
>
> 对公式进行识别，按照顺序，依次识别出数字符(同时设定属性相应的count，用于从数据库中获取对应的属性)和计算符，用栈进行计算，通过数据库中的常量表进行常量转换，再通过对应count取到相应的值，即可进行计算，获取到公式最终的值
>
> **风险预估：**
>
> 因为对php的不熟悉，造成了一定程度的客观困难，罗列一下技术点，预估一下风险：
>
> 字符串的识别
>
> switch语句的使用
>
> 数据结构的差异性：list、栈、队列等等
>
> 空值的处理（这套方案应该隐含了大量的空值处理）
>
> 常量设置比较多
>
> 多个分数项在数据库中预留位置有限，比如考勤5次，数据库中共维护了考勤1、考勤2……考勤10，那么上限就是十个，程序中会写死，有一定使用风险
>
> 控制条件多（常量转换一个、count一个等等），逻辑相对复杂

# 2、论坛（小型博客）



# 3、权限系统的实现

细度要求应该到按钮级别的，php的实现方式还未知





